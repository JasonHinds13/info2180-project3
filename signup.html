
<h1>Create A User</h1>

<form id="signupform">
    <label for="firstname">First Name: </label>
    <input name="firstname" id="fname" type="text"/> <br>

    <label for="lastname">Last Name: </label>
    <input name="lastname" id="lname" type="text"/> <br>

    <label for="username">Username: </label>
    <input name="username" id="uname" type="text"/> <br>

    <label for="password">Password: </label>
    <input name="password" id="pword" type="password"/> <br><br>

    <input value="Submit" id="subform" type="submit" class="button"/>
</form>

<p id="status"></p>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script type="text/javascript">
    /* global $ */
    $(document).ready(function(){
    
    // Create User Form Submission
    $("#signupform").on('submit', function(event){
        console.log("The Form has Been Submitted");
        
        event.preventDefault();
        
        var fname = $("#fname").val();
        var lname = $("#lname").val();
        var uname = $("#uname").val();
        var pword = $("#pword").val();
        
        var params = 'firstname='+fname+'&lastname='+lname+'&username='+uname+'&password='+pword;
        
        var link = 'cheapomail.php';
        
        var xmlhttp = new XMLHttpRequest();
        
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4){
                    if (this.status == 200) {
                        $("#status").text(xmlhttp.responseText);
                    }
                    else{
                        $("#status").text("Some Unknown Error Occured");
                    }
            }
        };
        
        xmlhttp.open("POST", link, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.send(params);
    });
});
</script>